'use strict';

module.exports = {
  up: async (queryInterface, Sequelize) => {
    const flaws = [
      {
        type: "Flaw",
        size: "Major",
        category: "General",
        realm: "None",
        name: "Blind",
        description: "You have little or no sight. Using missile weapons is futile, reading is impossible, and navigation in unknown territory is difficult to say the least. Blind magi can detect targets by other senses, and thus are less limited than people trying to use missile weapons. However, blind magi cannot aim spells without magical aid.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Major"]),
        max_selections: null,
        prerequisites: JSON.stringify({}),
        incompatibilities: JSON.stringify([]),
        effects: JSON.stringify({}),
        created_at: new Date(),
        updated_at: new Date()
      },
      {
        type: "Flaw",
        size: "Minor",
        category: "Social",
        realm: "None",
        name: "Branded Criminal",
        description: "As punishment for some crime in your past, a mark has been burned into your cheek. This adversely affects your ability to function in society. You may not take the Wealthy Virtue, but you may take Martial Abilities at character creation. You may choose not to take such abilities, if your crime was not violent.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: JSON.stringify({}),
        incompatibilities: JSON.stringify([]),
        effects: JSON.stringify({}),
        created_at: new Date(),
        updated_at: new Date()
      },
      {
        type: "Flaw",
        size: "Minor",
        category: "Personality",
        realm: "None",
        name: "Busybody",
        description: "You usually know everything that is going on among your friends and acquaintances, especially in private matters. You are always interested in rumors and gossip, and are frequently able to extract personal secrets from people. Among magi the language is more dignified, but the idea is the same: you keep tabs on the Hermetic community (your covenant, your House, and nearby covenants â€” at the least). However, magi probably don't have much knowledge of what's going on among the lower class members of their covenant unless they choose to apply this Flaw specifically to such people at character creation.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: JSON.stringify({}),
        incompatibilities: JSON.stringify([]),
        effects: JSON.stringify({}),
        created_at: new Date(),
        updated_at: new Date()
      },
      {
        type: "Flaw",
        size: "Minor",
        category: "Personality",
        realm: "None",
        name: "Carefree",
        description: "You are unshakably cheerful and happy in all circumstances.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: JSON.stringify({}),
        incompatibilities: JSON.stringify([]),
        effects: JSON.stringify({}),
        created_at: new Date(),
        updated_at: new Date()
      },
      {
        type: "Flaw",
        size: "Minor",
        category: "Hermetic",
        realm: "None",
        name: "Careless Sorcerer",
        description: "You are sloppy in your spellcasting. You must always roll at least one botch die when casting a spell, even if you are not in a stressful situation.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: JSON.stringify({}),
        incompatibilities: JSON.stringify([]),
        effects: JSON.stringify({}),
        created_at: new Date(),
        updated_at: new Date()
      },
      {
        type: "Flaw",
        size: "Minor",
        category: "Personality",
        realm: "None",
        name: "Compulsion",
        description: "You have an overwhelming urge to do something in certain situations. You might have to count things, or touch certain objects, or say certain words. You must make a Stamina stress roll of 9+ to resist your compulsion. If you fail, you must spend a round indulging your compulsion. If you are forcibly restrained from doing so, you lose a Fatigue level and must check again next round. You and the storyguide should work out the details of your compulsion.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: JSON.stringify({}),
        incompatibilities: JSON.stringify([]),
        effects: JSON.stringify({}),
        created_at: new Date(),
        updated_at: new Date()
      },
      {
        type: "Flaw",
        size: "Major",
        category: "Story",
        realm: "None",
        name: "Dark Secret",
        description: "You have a secret that would cause you great difficulty if it were to be revealed. You might be a murderer, a demon worshipper, or a spy for an enemy. You might even be a member of a persecuted group, such as a Jew in medieval England. If your secret were revealed, you would be in serious trouble.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Major"]),
        max_selections: null,
        prerequisites: JSON.stringify({}),
        incompatibilities: JSON.stringify([]),
        effects: JSON.stringify({}),
        created_at: new Date(),
        updated_at: new Date()
      },
      {
        type: "Flaw",
        size: "Minor",
        category: "General",
        realm: "None",
        name: "Deaf",
        description: "You cannot hear. You automatically fail all rolls involving hearing. You cannot learn languages easily, as you cannot hear them spoken.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: JSON.stringify({}),
        incompatibilities: JSON.stringify([]),
        effects: JSON.stringify({}),
        created_at: new Date(),
        updated_at: new Date()
      },
      {
        type: "Flaw",
        size: "Minor",
        category: "Personality",
        realm: "None",
        name: "Deceitful",
        description: "You are a habitual liar. You lie even when you have no reason to do so. You may have trouble keeping your lies straight.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: JSON.stringify({}),
        incompatibilities: JSON.stringify([]),
        effects: JSON.stringify({}),
        created_at: new Date(),
        updated_at: new Date()
      },
      {
        type: "Flaw",
        size: "Major",
        category: "Hermetic",
        realm: "None",
        name: "Deficient Form",
        description: "You have great difficulty with one Form. Subtract five from all totals involving that Form, including Lab Totals, Casting Totals, and Study Totals. You may not take this Flaw for the same Form for which you have Puissant Art.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Major"]),
        max_selections: null,
        prerequisites: JSON.stringify({}),
        incompatibilities: JSON.stringify([]),
        effects: JSON.stringify({}),
        created_at: new Date(),
        updated_at: new Date()
      },
      {
        type: "Flaw",
        size: "Major",
        category: "Hermetic",
        realm: "None",
        name: "Deficient Technique",
        description: "You have great difficulty with one Technique. Subtract five from all totals involving that Technique, including Lab Totals, Casting Totals, and Study Totals. You may not take this Flaw for the same Technique for which you have Puissant Art.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Major"]),
        max_selections: null,
        prerequisites: JSON.stringify({}),
        incompatibilities: JSON.stringify([]),
        effects: JSON.stringify({}),
        created_at: new Date(),
        updated_at: new Date()
      }
    ];

    await queryInterface.bulkInsert('reference_virtues_flaws', flaws, {});
  },

  down: async (queryInterface, Sequelize) => {
    await queryInterface.bulkDelete('reference_virtues_flaws', null, {});
  }
};