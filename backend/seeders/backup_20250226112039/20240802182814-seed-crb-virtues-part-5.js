'use strict';

module.exports = {
  up: async (queryInterface, Sequelize) => {
    const virtues = [
      {
        type: "Virtue",
        size: "Minor",
        category: "Hermetic",
        realm: "None",
        name: "Inventive Genius",
        description: "Invention comes naturally to you. You receive +3 on Lab Totals when you invent new spells, craft magic items, and make potions. If you experiment, you get +6.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: null,
        incompatibilities: null,
        effects: null,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        type: "Virtue",
        size: "Minor",
        category: "General",
        realm: "None",
        name: "Keen Vision",
        description: "You can see farther and more clearly than most. You get a +3 bonus to all rolls involving sight, not including attacks with missile weapons.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: null,
        incompatibilities: null,
        effects: null,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        type: "Virtue",
        size: "Minor",
        category: "Social",
        realm: "None",
        name: "Knight",
        description: "You are a knight, a member of the noble classes and one of the elite warriors of Europe. Unless you are Poor, you may have high quality weapons and armor, and a horse. Typical armaments for a mid-13th century knight are lance, sword, heater shield, a complete mail suit, and a warhorse. You may take Martial Abilities during character generation. The Wealthy Virtue and Poor Flaw affect you normally. This Virtue is only available to male characters, and is compatible with the Landed Noble Virtue.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: null,
        incompatibilities: null,
        effects: null,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        type: "Virtue",
        size: "Major",
        category: "Social",
        realm: "None",
        name: "Landed Noble",
        description: "You owe fealty and service to a higher noble, and control land, serfs, and men-at-arms. You have half a dozen servants at your manor house, including a couple of bodyguards. Your servants should be controlled by the rest of the troupe. You have sworn an Oath of Fealty, and so must balance this Virtue with that Flaw. You get the normal points for Oath of Fealty. You are wealthier than most characters, but have no additional free time. You have the power to enforce the law within your fief, but you may not impose the death penalty, nor may you mutilate criminals. Floggings and fines are the normal penalties you impose. If you are Poor, your fief is either very small, or in a poor area for farming with few other resources. You must spend every season managing it, or it may collapse completely, leaving you effectively landless. You are no wealthier than most average characters, and you have only a couple of servants. Wealthy Landed Nobles control more than one fief, and have bailiffs or stewards for each, so that they do not need to devote any time to looking after their lands. You are significantly richer than most Wealthy characters, and could afford to build a small castle or a large chapel within a cathedral. You have around fifty servants, including a significant number of warriors. This Status Virtue is compatible with the Knight Minor Status Virtue, but unlike that Virtue it's available to male and female characters.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Major"]),
        max_selections: null,
        prerequisites: null,
        incompatibilities: null,
        effects: null,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        type: "Virtue",
        size: "Minor",
        category: "General",
        realm: "None",
        name: "Large",
        description: "Your Size is +1 instead of 0, so you are between six and seven feet tall. This means that the severity of wounds you take increases in six point intervals rather than five point intervals. (See page 171). You cannot take both this Virtue and Giant Blood, Small Frame, or Dwarf.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: null,
        incompatibilities: null,
        effects: null,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        type: "Virtue",
        size: "Minor",
        category: "General",
        realm: "None",
        name: "Learn (Ability) from Mistakes",
        description: "You are able to improve a particular Ability through the expedient of repeated failure. The first time in a given game session that you botch a roll or fail by exactly one point, you gain five experience points in the Ability. The roll must have come up naturally in the course of the story. You may take this Virtue several times, once for each Ability chosen.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: null,
        incompatibilities: null,
        effects: null,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        type: "Virtue",
        size: "Minor",
        category: "Supernatural",
        realm: "None",
        name: "Lesser Immunity",
        description: "You are immune to some hazard which is either rare, or not deadly, or both. See \"Greater Immunity,\" page 43.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: null,
        incompatibilities: null,
        effects: null,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        type: "Virtue",
        size: "Minor",
        category: "Supernatural",
        realm: "None",
        name: "Lesser Purifying Touch",
        description: "You can, with a touch and the expenditure of a Fatigue level, heal a specific illness. This illness should be one that people often recover from on their own, or one that is not particularly serious. You can only choose an illness, not an injury or other misfortune. See page 180 for rules on diseases.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: null,
        incompatibilities: null,
        effects: null,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        type: "Virtue",
        size: "Minor",
        category: "Hermetic",
        realm: "None",
        name: "Life Boost",
        description: "You may boost your formulaic spell casting totals by expending additional Fatigue levels. Each Fatigue level gives you an additional bonus of +5 on the roll, which can yield very impressive Penetration totals. You may burn more Fatigue levels than you possess. If you do, you must Soak damage, without the help of armor. The Damage total is 5 for every additional Fatigue level spent, plus a stress die. Thus, if you spend three additional levels, you must Soak a damage of 15 + stress die, with your Soak (no armor) + stress die. Fatigue levels spent in this way are spent regardless of the success or failure of the casting roll, and any wounds taken are similarly taken even if you fail to cast the spell. You can kill yourself doing this. The total number of Fatigue levels to be used must be committed before the casting roll is made.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: null,
        incompatibilities: null,
        effects: null,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        type: "Virtue",
        size: "Major",
        category: "Hermetic",
        realm: "None",
        name: "Life-Linked Spontaneous Magic",
        description: "You can do more with spontaneous magic than most magi at the cost of your own life energy. When you decide to use this ability in casting a spontaneous spell, you declare the level of effect you wish to produce before rolling. This level may include a number of levels of penetration (see page 82). For example, you can choose to cast a level 10 effect at level 20, to give a penetration of 10 plus your Penetration score. Roll to cast a fatiguing spontaneous spell. If your result is higher than the level you declared, you spend only one Fatigue level as usual. If your result is less than the level you declared, you must expend one additional Fatigue level per five points (or fraction thereof) by which you missed the target level. If you run out of Fatigue levels, you take a wound. The number of levels still needed for the spell is treated as the amount by which a damage total exceeds your soak, and you take the corresponding wound. You can kill yourself this way. A maga with this Virtue may still cast fatiguing spontaneous spells normally.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Major"]),
        max_selections: null,
        prerequisites: null,
        incompatibilities: null,
        effects: null,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        type: "Virtue",
        size: "Minor",
        category: "General",
        realm: "None",
        name: "Light Touch",
        description: "You have especially good hand-eye coordination and great proficiency for using your hands in precise, fast ways. You gain +1 to all rolls involving subtle manipulation of objects (like picking pockets) and roll one less botch die than you normally would in such activities (minimum of one). This bonus does not apply to archery, but does apply to playing musical instruments.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: null,
        incompatibilities: null,
        effects: null,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        type: "Virtue",
        size: "Minor",
        category: "General",
        realm: "None",
        name: "Lightning Reflexes",
        description: "You respond to surprises almost instantly. In fact, your reflexes are sometimes so fast that you don't have a chance to think about how you are going to respond. Whenever you are surprised or startled, roll a stress die + Quickness. If you get a 3 or better, you respond reflexively. You must tell the storyguide on each occasion what one type of action (attacking, blocking, running, etc.) you would like to respond with. If attacking in response, you gain +9 to your Initiative Total. The storyguide is the final arbiter of what happens (though it is always in the best interests of your immediate self-preservation). You only react to threats that you are not fully aware of, so you don't get a bonus against an assassin you watch sneak up on you. Note that you do not get a choice about whether to react. You could just as easily skewer a friend sneaking up in fun as you would an assassin about to strike. Also note that you must perceive an action to react to it — you can still be easily killed in your sleep. This Virtue gives you no special powers of perception.",
        source: "Core Rulebook",
        allowed_sizes: JSON.stringify(["Minor"]),
        max_selections: null,
        prerequisites: null,
        incompatibilities: null,
        effects: null,
        createdAt: new Date(),
        updatedAt: new Date()
      }
    ];

    await queryInterface.bulkInsert('reference_virtues_flaws', virtues, {});
  },

  down: async (queryInterface, Sequelize) => {
    await queryInterface.bulkDelete('reference_virtues_flaws', null, {});
  }
};